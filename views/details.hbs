<div class="w3-row-padding">
  <div class="w3-half">
<nav>
    <select class="w3-select" name="selTopic" id="selTopic" onchange="this.options[this.selectedIndex].value && (window.location = '/detail?topic=' + this.options[this.selectedIndex].value);">
{{#each groups}}

<option value="{{topic}}">{{label}}</option>
{{/each}}
</select>
</nav>

  </div>
  <div class="w3-third">
    <a style="padding: 5px; 5px" href="/">Home View</a>
  </div>
</div>
<br/><br/>
    <div class="w3-container">
<table class="w3-table-all w3-responsive w3-striped w3-bordered w3-card-4">
<tr>
  <th>Sensor</th>
  <th>State</th>
  <th>Date</th>
</tr>
{{#each topics}}
<tr>
 <td>{{topic}}</td>
  <td>{{messagenumber message 0}}</td>
  {{#ifdatebetween date  ../updateddate}}
  <td><span class="w3-tag">{{dayjs date "MM/DD/YYYY hh:mm:ss A" "1"}}</span></td>
  {{else}}
  <td>{{dayjs date "MM/DD/YYYY hh:mm:ss A" "1"}}</td>
  {{/ifdatebetween}}
</tr>
{{/each}}
</table>
    </div>
    <script>
        function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}
        const $select = document.querySelector('#selTopic');
        $select.value = getQueryVariable("topic");
        var tst = [
            {{#each groups}}
            {"topic":'{{topic}}', "label" :'{{label}}' },
            {{/each}}
                    ];
        console.log(tst[0].topic);
console.log(getQueryVariable("topic"));
    </script>